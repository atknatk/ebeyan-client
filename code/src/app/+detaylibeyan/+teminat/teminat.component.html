<dn-loading-content [show]="loading">

  <div class="dn-content-wrapper">

    <div class="dn-button-content">
      <detaylibeyan-button-list [idDetayliBeyan]="idDetayliBeyan" curNav="teminat"></detaylibeyan-button-list>
    </div>
    <div class="dn-content">
      <div class="row">

        <article id="dn-table-widget" class="col-sm-12">
          <dn-widget color="blueDark" [widgetId]="'teminat-widget'">
            <header>
              <div class="jarviswidget-ctrls" role="menu">
                <detaylibeyan-no-label [idDetayliBeyan]="idDetayliBeyan"></detaylibeyan-no-label>
              </div>
              <span class="widget-icon"> <i class="fa fa-table"></i> </span>
              <h2>Teminat Listesi</h2>
            </header>
            <div>
              <div class="widget-body no-padding dn-datatable-widget-body">

                <form [formGroup]="dbTeminatForm" novalidate>

                  <table class="table table-bordered" [formArrayName]="formArrName">
                    <thead>
                    <tr>
                      <th align="center" style="width: 90px; text-align: center">İşlem</th>
                      <th align="center" style="width: 130px; text-align: center">Teminat Şekli</th>
                      <th align="center" style="width: 120px; text-align: center">Teminat Yüzdesi</th>
                      <th align="center" style="width: 200px; text-align: center">Teminat/Global No</th>
                      <th align="center" style="width: 120px; text-align: center">Nakit Tutar</th>
                      <th align="center" style="width: 120px;text-align: center">Banka Tutar</th>
                      <th align="center" style="width: 120px; text-align: center">Diğer Tutar</th>
                      <th align="center" style="text-align: center">Açıklama</th>
                      <th align="center" style="text-align: center">Diğer Tutar Referans</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let teminat of getControl().controls; let i=index"
                        [formGroupName]="i">
                      <td>
                        <button (click)="addSatir()" type="button" class="btn btn-sm  btn-primary txt-color-white"><i
                          class="fa fa-plus"></i></button>
                        <button (click)="removeSatir(i)" type="button" class="btn btn-sm  btn-danger txt-color-white"><i
                          class="fa fa-trash-o"></i></button>
                      </td>
                      <td class="dn-reqiured">
                        <dn-select2 css="form-control td-inline dn-reqiured"
                                    placeholder=""
                                    formControlName="teminatSekli"
                                    referenceMode="id"
                                    serviceUrl="teminatSekli"
                                    [displaySelect]="gtbConst.displaySelect"
                                    [selectedText]="gtbConst.selectedText"></dn-select2>
                      </td>
                      <td >
                        <input class="form-control td-inline dn-reqiured" formControlName="teminatOrani">
                      </td>
                      <td>
                        <input class="form-control td-inline" formControlName="globalTeminatNo">
                      </td>
                      <td >
                        <input class="form-control td-inline" formControlName="nakdiTeminatTutari">
                      </td>
                      <td>
                        <input class="form-control td-inline " formControlName="bankaMektubuTutari">
                      </td>
                      <td>
                        <input class="form-control td-inline" formControlName="digerTutar">
                      </td>
                      <td>
                        <input class="form-control td-inline" formControlName="aciklama">
                      </td>
                      <td>
                        <input class="form-control td-inline" formControlName="digerTutarReferansi">
                      </td>


                    </tr>
                    </tbody>
                  </table>
                  <div class="clearfix"></div>
                </form>
                <div class="form-actions" style="margin: 0px;">
                  <div class="row">
                    <div class="col-md-12">
                      <button class="btn" type="button"
                              [ngClass]="getControl().controls.length > 0 ? 'dn-hide' : ''"
                              (click)="addSatir()">
                        <i class="fa fa-plus"></i>
                        Satır Ekle
                      </button>
                      <button class="btn" type="button"
                              (click)="onSubmit()">
                        <i class="fa fa-save"></i>
                        Kaydet
                      </button>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </dn-widget>
        </article>
      </div>
    </div>
  </div>
</dn-loading-content>

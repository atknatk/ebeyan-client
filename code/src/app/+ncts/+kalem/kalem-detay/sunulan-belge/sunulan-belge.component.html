<dn-loading [show]="loading">
  <dn-widget color="blueDark" [colorbutton]="false" [editbutton]="false" id="ncts-widget">
    <header>
      <span class="widget-icon"><i class="fa fa-truck"></i></span>
      <h2>Sunulan Belge</h2>
    </header>
    <div>
      <div class="widget-body">
        <form [formGroup]="baseForm" novalidate>

          <div class="margin-top-10">
            <fieldset>
              <div class="form-row form-group no-margin-bottom" style="margin-left: -16px;">
                <div class="col-sm-12 col-md-4" style="padding-right: 2px;">
                  <dn-select2-container [form]="baseForm"
                                        serviceUrl="nctsBelgeTipi"
                                        formControlName="nctsBelgeTipi">Belge Tipi
                  </dn-select2-container>
                </div>
                <div class="col-sm-12 col-md-4" style="padding-right: 2px;">
                  <dn-input [form]="baseForm"
                            formControlName="belgeReferansi">Belge referansı
                  </dn-input>
                </div>
                <div class="col-sm-12 col-md-4" style="padding-left: 2px; ">
                  <dn-select2-container [form]="baseForm"
                                        serviceUrl="Dil"
                                        formControlName="belgeReferansiDil">Dil
                  </dn-select2-container>
                </div>
              </div>
            </fieldset>
            <fieldset>
              <div class="form-row form-group no-margin-bottom" style="margin-left: -16px;">
                <div class="col-sm-12 col-md-4" style="padding-right: 2px;">
                  <dn-input [form]="baseForm"
                            formControlName="tamamlayiciBelge">Tamamlayıcı bilgi
                  </dn-input>
                </div>
                <div class="col-sm-12 col-md-4" style="padding-right: 2px;">
                  <dn-select2-container [form]="baseForm"
                                        serviceUrl="Dil"
                                        formControlName="tamamlayiciBelgeDil">Dil
                  </dn-select2-container>
                </div>
                <div class="col-sm-12 col-md-4" style="padding-left: 2px; ">
                  <button class="btn" type="button" style="float: right; margin-right: 13px;"
                          [disabled]="!baseForm.valid"
                          (click)="onSubmit()">
                    <i [ngClass]="isEdit ? 'fa fa-edit':'fa fa-save'"></i>
                    {{isEdit ? 'Güncelle' : 'Kaydet'}}
                  </button>
                </div>
              </div>
            </fieldset>
          </div>
          <!--(click)="addSatir(baseForm.getRawValue())">-->
          <br>
          <table class="table table-bordered" [formArrayName]="formArrName">
            <thead>
            <tr>
              <th align="center" style="width: 40px; text-align: center">İşlem</th>
              <th align="center" style="text-align: center">Belge Tipi</th>
              <th align="center" style="text-align: center">Belge Referansı</th>
              <th align="center" style="text-align: center">Dil</th>
              <th align="center" style="text-align: center">Tamamlayıcı Bilgi</th>
              <th align="center" style="text-align: center">Dil</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let row of getControl().controls; let i=index"
                [formGroupName]="i"
                (click)="setClickedRow(i)" [class.active]="i == selectedRow">
              <td>
                <button (click)="onRemove(i)" type="button" class="btn btn-xs  btn-danger txt-color-white"><i
                  class="fa fa-trash-o"></i></button>
              </td>
              <td>{{getEnumValue(row.get('nctsBelgeTipi').value)}}</td>
              <td>{{row.get('belgeReferansi').value}}</td>
              <td>{{getEnumValue(row.get('belgeReferansiDil').value)}}</td>
              <td>{{row.get('tamamlayiciBelge').value}}</td>
              <td>{{getEnumValue(row.get('tamamlayiciBelgeDil').value)}}</td>
            </tr>
            </tbody>
          </table>
          <div class="clearfix"></div>
        </form>
      </div>
    </div>
  </dn-widget>
</dn-loading>

<dn-loading-content [show]="loading">
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-1">
      <div class="well padding-10">
        <h5 class="margin-top-0">Kalemler</h5>
        <div class="row">
          <div class="col-lg-12">
            <ul class="list-group no-margin">
              <li class="list-group-item kalem-no" [ngClass]="kalem== uniqueNo? 'dn-selected':''"
                  *ngFor="let kalem of dataList.keys();let i = index"
                  (click)="getValueFromLeftList(kalem)">
                <label class="dn-cursor-pointer">{{kalem}}</label>
                <i *ngIf="isEditting(kalem)" class="fa fa-pencil-square-o" style="float: right; margin-top: 5px;"></i>

              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-11">
      <dn-widgets-grid>
        <dn-widget
          color="blueDark"
          [togglebutton]="false"
          [editbutton]="false"
          [fullscreenbutton]="false"
          [colorbutton]="false"
          [deletebutton]="false">

          <header>
            <div class="jarviswidget-ctrls" role="menu">
              <ncts-no-label [idNcts]="idData"></ncts-no-label>
            </div>
            <span class="widget-icon"><i class="glyphicon glyphicon-file"></i></span>

            <h2>{{isKalemDetay ? 'Kap' : 'Kalemler'}}</h2>

            <ul class="nav nav-tabs pull-right in" id="myTab">
              <li class="active">
                <a data-toggle="tab" href="#s1" (click)="kalemClick()"><i class="fa fa-list-alt"></i> <span
                  class="hidden-mobile hidden-tablet">Kalem Bilgiler</span></a>
              </li>

              <li *ngIf="isEdit">
                <a data-toggle="tab" href="#s2" (click)="kalemDetayClick()"><i class="fa fa-list-ol"></i> <span
                  class="hidden-mobile hidden-tablet">Kalem Detayları</span></a>
              </li>
            </ul>

          </header>


          <form novalidate="novalidate" class="form-horizontal ncts-widget-body" style="margin-top: -4px"
                [formGroup]="baseForm">

            <div class="no-padding">

              <div class="widget-body">
                <div id="myTabContent" class="tab-content">

                  <div class="tab-pane fade active in  no-padding-bottom" id="s1">
                    <div class="row">
                      <div class="col-md-6">
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Kalemler (32) - Eşya Tanımı (31.4)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="kalemNo">Kalem No
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="dil"
                                                      formControlName="esyaTanimDil">Eşya Dil
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-textarea [form]="baseForm"
                                             [inputRow]="10"
                                             [labelRow]="2"
                                             [rows]="3"
                                             formControlName="esyaTanimi">Eşya Tanımı
                                </dn-textarea>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Çıkış İhracat Ülkesi (15) - Gideceği Ülke (17)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="cikisUlkesi">Çıkış Ülkesi
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="gidecegiUlke">Gideceği Ülke
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Gönderici/İhracatçı (2)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="gondericiTin">Gönderici TIN
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="gondericiAdi">Gönderici Adı
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-textarea [form]="baseForm"
                                             formControlName="gondericiAdresi"
                                             [inputRow]="10"
                                             [labelRow]="2"
                                             [rows]="2">Gönderici Adresi
                                </dn-textarea>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height margin-top-10">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="gondericiSehri">Gönderici Şehri
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="gondericiPostaKodu">Gönderici Posta Kodu
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="gondericiUlkeKod">Gönderici Ülke Kodu
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="dil"
                                                      formControlName="gondericiNadDil">Gönderici NAD Dil
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>

                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Güvenli Gönderici (S04)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliGondericiTin">Güvenli G. TIN
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliGondericiAdi">Güvenli G. Adı
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-textarea [form]="baseForm"
                                             formControlName="guvenliGondericiAdresi"
                                             [inputRow]="10"
                                             [labelRow]="2"
                                             [rows]="2">Güvenli G. Adresi
                                </dn-textarea>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height margin-top-10">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliGondericiSehri">Güvenli G. Şehri
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliGondericiPostaKodu">Güvenli G. Posta Kodu
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="guvenliGondericiUlkeKod">Güvenli G. Ülke Kodu
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="dil"
                                                      formControlName="guvenliGondericiNadDil">Güvenli G. Dil
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>

                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            UNDG (44/4) - Tek konşimento referans numarası(7)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="undg">UNDG
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="tekKansimentoRefNo">Konşimento Referans No
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            İlgili İhracat Beyannamesi
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      [displaySelect]="undefined"
                                                      [selectedText]="undefined"
                                                      serviceUrl="ihrBeyan"
                                                      formControlName="ihrBeyanTip">Beyan Tipi
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      [displaySelect]="undefined"
                                                      [selectedText]="undefined"
                                                      serviceUrl="yesNo"
                                                      formControlName="isParcali">Parçalı Mı?
                                </dn-select2-container>
                              </div>
                            </div>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-input [form]="baseForm"
                                          formControlName="ihrBeyanNo">Beyan Numarası
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-input [form]="baseForm"
                                          [labelRow]="2"
                                          [inputRow]="10"
                                          formControlName="beyannameGondericisi">Beyanname Göndericisi
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>

                      </div>
                      <div class="col-md-6">
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Rejim(1/3) - Eşya Kodu(33)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="nctsrejim"
                                                      formControlName="nctsRejim">Rejim
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="esyaKodu">Eşya Kod
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Bürüt Ağırlık (kg)(35) - Net Ağırlık (kg)(38)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          [number]="true"
                                          formControlName="brutAgirlik">Brüt Ağırlık
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          [number]="true"
                                          formControlName="netAgirlik">Net Ağırlık
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Kalem Kıymet Değeri - Kalem Kıymet Döviz Cinsi
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="kalemKiymetDegeri">Kıymet Değeri
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="doviz"
                                                      formControlName="kalemKiymetDegeriDoviz">Döviz
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input disabled>Dolar Karşılığı</dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input disabled>Br. Ağır. Bir. Kıymet(USD)</dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Alıcı (8)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="aliciTin">Alıcı TIN
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="aliciAdi">Alıcı Adı
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-textarea [form]="baseForm"
                                             formControlName="aliciAdresi"
                                             [inputRow]="10"
                                             [labelRow]="2"
                                             [rows]="2">Alıcı Adresi
                                </dn-textarea>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height margin-top-10">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="aliciSehri">Alıcı Şehri
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="aliciPostaKodu">Alıcı Posta Kodu
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="aliciUlkeKodu">Alıcı Ülke Kodu
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="dil"
                                                      formControlName="aliciNadDil">Alıcı NAD Dil
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>

                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Güvenli Alıcı (S06)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliAliciTin">Güvenli A. TIN
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliAliciAdi">Güvenli A. Adı
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-12">
                                <dn-textarea [form]="baseForm"
                                             formControlName="guvenliAliciAdresi"
                                             [inputRow]="10"
                                             [labelRow]="2"
                                             [rows]="2">Güvenli A. Adresi
                                </dn-textarea>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height margin-top-10">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliAliciSehri">Güvenli A. Şehri
                                </dn-input>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="guvenliAliciPostaKodu">Güvenli A. Posta Kodu
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="NctsUlkeKod"
                                                      formControlName="guvenliAliciUlkeKodu">Güvenli A. Ülke Kodu
                                </dn-select2-container>
                              </div>
                              <div class="col-sm-12 col-md-6">
                                <dn-select2-container [form]="baseForm"
                                                      serviceUrl="dil"
                                                      formControlName="referansTarihi">Güvenli A. Dili
                                </dn-select2-container>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                        <fieldset class="dn-title-fieldset">
                          <legend class="dn-title-legend">
                            Tpt.ch.M.Ödeme Kodu (S29)
                          </legend>
                          <fieldset>
                            <div class="form-row form-group no-margin-bottom input-row-height">
                              <div class="col-sm-12 col-md-6">
                                <dn-input [form]="baseForm"
                                          formControlName="tptchOdemeKodu"
                                          [labelRow]="0"
                                          [inputRow]="12"> Tpt.ch.M.Ödeme Kodu
                                </dn-input>
                              </div>
                            </div>
                          </fieldset>
                        </fieldset>
                      </div>
                    </div>
                    <div class="form-actions">
                      <div class="row">
                        <div class="col-md-12">
                          <button class="btn btn-default" type="button" (click)="clearForm()">
                            <i class="fa fa-eraser"></i>
                            Temizle
                          </button>
                          <button class="btn btn-danger" type="button" *ngIf="isEdit" (click)="onDelete()">
                            <i class="fa fa-trash-o"></i>
                            Sil
                          </button>
                          <button class="btn" type="button" [disabled]="!baseForm.valid" (click)="onSubmit()">
                            <i [ngClass]="isEdit ? 'fa fa-edit':'fa fa-save'"></i>
                            {{isEdit ? 'Güncelle':'Kaydet'}}
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <ncts-kalem-detay-kap #kap class="tab-pane fade no-padding-bottom" id="s2"></ncts-kalem-detay-kap>
                </div>

              </div>

            </div>


          </form>
        </dn-widget>
        <div class="row">
          <article class="col-sm-6">
            <ncts-kalem-detay-konteyner #konteyner
                                        idNctsKalem="{{idNctsKalem}}"
                                        *ngIf="isShowDetay"></ncts-kalem-detay-konteyner>
          </article>
          <article class="col-sm-6">
            <ncts-kalem-detay-hassas-esya #hassasEsya
                                          idNctsKalem="{{idNctsKalem}}"
                                          *ngIf="isShowDetay"></ncts-kalem-detay-hassas-esya>
          </article>
        </div>


        <ncts-kalem-detay-onceki-belge #oncekiBelge
                                       idNctsKalem="{{idNctsKalem}}"
                                       *ngIf="isShowDetay"></ncts-kalem-detay-onceki-belge>
        <ncts-kalem-detay-ek-bilgi #ekBilgi
                                   idNctsKalem="{{idNctsKalem}}"
                                   *ngIf="isShowDetay"></ncts-kalem-detay-ek-bilgi>
        <ncts-kalem-detay-sunulan-belge #sunulanBelge
                                        idNctsKalem="{{idNctsKalem}}"
                                        *ngIf="isShowDetay"></ncts-kalem-detay-sunulan-belge>
      </dn-widgets-grid>
    </div>
  </div>
</dn-loading-content>

webpackJsonp([11],{UMh7:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=e("qbdv"),i=e("/oeL"),r=e("bm2B"),a=e("+v7G"),l=e("CaCv"),s=e("ZII0"),c=function(){function n(n){void 0===n&&(n={}),this.afterLoginNavigateRoute=n.afterLoginNavigateRoute||"/home",this.afterLoginSuccessEvent=n.afterLoginSuccessEvent||s.a,this.title=n.title||"title",this.description=n.description||"description",this.logo=n.logo}return n}(),g=function(){function n(n){this.config=n,this.loginConfig=n||new c}return n.decorators=[{type:i.Injectable}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:["loginConfig"]}]}]},n}(),d=e("RYUU"),u=function(){function n(n){void 0===n&&(n={}),this.backdropBorderRadius=n.backdropBorderRadius,this.backdropBackgroundColour=n.backdropBackgroundColour,this.fullScreenBackdrop=n.fullScreenBackdrop,this.animationType=n.animationType,this.primaryColour=n.primaryColour,this.secondaryColour=n.secondaryColour,this.tertiaryColour=n.tertiaryColour}return n}(),f={threeBounce:"three-bounce",rotatingPlane:"rotating-plane",rectangleBounce:"rectangle-bounce",wanderingCubes:"wandering-cubes"},p=function(){function n(n){this.config=n,this.loadingConfig=n||new u}return n.decorators=[{type:i.Injectable}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:["loadingConfig"]}]}]},n}(),h=function(){function n(n){this.loadingConfigService=n,this.config=new u,this.ANIMATION_TYPES=f,this.loadingConfig={animationType:"",backdropBackgroundColour:"",backdropBorderRadius:"",fullScreenBackdrop:!1,primaryColour:"",secondaryColour:"",tertiaryColour:""},this.defaultConfig={animationType:f.threeBounce,backdropBackgroundColour:"rgba(0, 0, 0, 0.3)",backdropBorderRadius:"0px",fullScreenBackdrop:!1,primaryColour:"#ffffff",secondaryColour:"#ffffff",tertiaryColour:"#ffffff"}}return n.prototype.getAnimationType=function(n){var o;switch(n){case f.threeBounce:o=f.threeBounce;break;case f.rectangleBounce:o=f.rectangleBounce;break;case f.rotatingPlane:o=f.rotatingPlane;break;case f.wanderingCubes:o=f.wanderingCubes;break;default:o=f.threeBounce}return o},n.prototype.ngOnInit=function(){for(var n in this.defaultConfig)"boolean"==typeof this.loadingConfig[n]?(this.loadingConfig[n]=null!=this.config[n]&&this.config[n],!1===this.loadingConfig[n]&&(this.loadingConfig[n]=null!=this.loadingConfigService.loadingConfig[n]?this.loadingConfigService.loadingConfig[n]:this.defaultConfig[n])):(this.loadingConfig[n]=null!=this.config[n]?this.config[n]:"",""===this.loadingConfig[n]&&(this.loadingConfig[n]=null!=this.loadingConfigService.loadingConfig[n]?this.loadingConfigService.loadingConfig[n]:this.defaultConfig[n]))},n.prototype.showText=function(){return!Object(d.b)(this.text)},n.decorators=[{type:i.Component,args:[{selector:"dn-loading",template:'\n        <div *ngIf="show" class="backdrop" [ngClass]="{\'full-screen\' : loadingConfig?.fullScreenBackdrop == true}"\n             [ngStyle]="{\'border-radius\': loadingConfig?.backdropBorderRadius, \'background-color\':\n              loadingConfig?.backdropBackgroundColour}"></div>\n        <div *ngIf="show">\n            <div *ngIf="getAnimationType(loadingConfig?.animationType) === ANIMATION_TYPES.threeBounce"\n                 class="spinner-three-bounce" [ngClass]="{\'full-screen\' : loadingConfig?.fullScreenBackdrop == true}">\n                <div class="bounce1" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="bounce2" [ngStyle]="{\'background-color\': loadingConfig?.secondaryColour}"></div>\n                <div class="bounce3" [ngStyle]="{\'background-color\': loadingConfig?.tertiaryColour}"></div>\n            </div>\n            <div class="spinner-sk-rotateplane"\n                 *ngIf="getAnimationType(loadingConfig?.animationType) === ANIMATION_TYPES.rotatingPlane"\n                 [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"\n                 [ngClass]="{\'full-screen\' : loadingConfig?.fullScreenBackdrop == true}"></div>\n            <div class="spinner-rectangle-bounce"\n                 *ngIf="getAnimationType(loadingConfig?.animationType) === ANIMATION_TYPES.rectangleBounce"\n                 [ngClass]="{\'full-screen\' : loadingConfig?.fullScreenBackdrop == true}">\n                <div class="rect1" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="rect2" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="rect3" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="rect4" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="rect5" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n            </div>\n            <div class="spinner-wandering-cubes"\n                 *ngIf="getAnimationType(loadingConfig?.animationType) === ANIMATION_TYPES.wanderingCubes"\n                 [ngClass]="{\'full-screen\' : loadingConfig?.fullScreenBackdrop == true}">\n                <div class="cube1" [ngStyle]="{\'background-color\': loadingConfig?.primaryColour}"></div>\n                <div class="cube2" [ngStyle]="{\'background-color\': loadingConfig?.secondaryColour}"></div>\n            </div>\n            <div *ngIf="showText()" style="margin-top: 5px;color: white;width: 300px;text-align: center;\n            position: absolute;top: 0;left: 0;right: 0;bottom: 0;height: 20px;margin: auto;z-index: 52;\n                height: 100%;border-radius: 0;background-color: transparent;">\n                <span style="display: inline-block; margin-top: 55%; font-size: 16px;font-weight: bold;">{{text}}</span>\n            </div>\n        </div>\n        <ng-content></ng-content>\n    '}]}],n.ctorParameters=function(){return[{type:p}]},n.propDecorators={show:[{type:i.Input}],text:[{type:i.Input}],config:[{type:i.Input}]},n}(),m=function(){function n(){}return n.decorators=[{type:i.Component,args:[{selector:"dn-loading-content",template:'\n        <div id="content">\n            <dn-loading [show]="show" [text]="loadingText"></dn-loading>\n            <ng-content></ng-content>\n        </div>'}]}],n.ctorParameters=function(){return[]},n.propDecorators={show:[{type:i.Input}],loadingText:[{type:i.Input}]},n}(),v=function(){function n(){}return n.forRoot=function(o){return{ngModule:n,providers:[{provide:"loadingConfig",useValue:o}]}},n.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule],exports:[h,m],declarations:[h,m],providers:[p]}]}],n.ctorParameters=function(){return[]},n}(),y=e("mutt"),C=e("amPf"),b=e("+h2B"),k=e("BkNc"),S=e("f6/e"),w=function(){function n(n,o,e,t,i,r,a){this.router=n,this.authService=o,this._fb=e,this.notificationService=t,this.loginConfigService=i,this.storageService=r,this._compiler=a,this.loading=!1,this._loginConfigService=i}return n.prototype.checkLoginStatus=function(n){var o=this;n.closed?this.loading=!1:setTimeout(function(){return o.checkLoginStatus(n)},1e3)},n.prototype.login=function(n,o){var e=this;if(this.loading=!0,o){this.submitted=!0,this.loadingText="Giri\u015f Yap\u0131l\u0131yor";var t=this.authService.login(n.mail,n.password).subscribe(function(n){if(e.loadingText="",n.isSuccess){var o=n.data;e._compiler.clearCache(),e.setLocalStorage(n.data),e._loginConfigService.loginConfig.afterLoginSuccessEvent&&e._loginConfigService.loginConfig.afterLoginSuccessEvent(o),e.router.routerState.snapshot.root.queryParams&&e.router.routerState.snapshot.root.queryParams.returnUrl?e.router.navigate([e.router.routerState.snapshot.root.queryParams.returnUrl]):e.router.navigate([e._loginConfigService.loginConfig.afterLoginNavigateRoute])}else e.notificationService.showDinazorResultMessage(n);e.loading=!1});setTimeout(function(){return e.checkLoginStatus(t)},500)}},n.prototype.ngOnInit=function(){this.loginForm=this._fb.group({mail:["",[r.Validators.required,r.Validators.minLength(3)]],password:["",[r.Validators.required,r.Validators.minLength(1)]]})},n.prototype.setLocalStorage=function(n){this.storageService.removeItem(S.a.DINAZOR_USER_KEY),this.storageService.setItem(S.a.DINAZOR_USER_KEY,n)},n.decorators=[{type:i.Component,args:[{selector:"dn-login",template:'\n        <header id="header" class="animated fadeInDown">\n            <div id="logo-group">\n                <span id="logo"> \n                    <img class="dn-logo" src="{{_loginConfigService.loginConfig.logo}}" alt="Dinazor"> \n                </span>\n            </div>\n        </header>\n        <div id="main" role="main" class="animated fadeInDown">\n\n            <div id="content" class="container">\n                <div class="row">\n                    <div class="col-xs-12 col-sm-12 col-md-7 col-lg-8 hidden-xs hidden-sm">\n                        <h1 class="txt-color-red login-header-big" [innerHTML]="_loginConfigService.loginConfig.title">\n                        </h1>\n\n                        <div class="pull-left login-desc-box-l">\n                            <h4 class="paragraph-header" [innerHTML]="_loginConfigService.loginConfig.description"></h4>\n                        </div>\n                    </div>\n                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4">\n                        <div class="well no-padding">\n                            <dn-loading [show]="loading" [text]="loadingText">\n                                <form [formGroup]="loginForm" novalidate\n                                      (ngSubmit)="login(loginForm.value, loginForm.valid)"\n                                      class="smart-form client-form">\n                                    <header>\n                                        Giri\u015f\n                                    </header>\n                                    <fieldset>\n                                        <section>\n                                            <label class="label">Kullan\u0131c\u0131 TC Kimlik</label>\n                                            <label class="input"> <i class="icon-append fa fa-user"></i>\n                                                <input type="text" data-smart-validate-input=""\n                                                       data-required=""\n                                                       data-message-required="L\xfctfen kullan\u0131c\u0131 ad\u0131n\u0131 giriniz"\n                                                       formControlName="mail">\n                                                <b class="tooltip tooltip-top-right"><i\n                                                        class="fa fa-user txt-color-teal"></i>\n                                                    L\xfctfen TC Kimlik No giriniz</b></label>\n                                        </section>\n                                        <section>\n                                            <label class="label">\u015eifre</label>\n                                            <label class="input"> <i class="icon-append fa fa-lock"></i>\n                                                <input type="password" name="password" data-smart-validate-input=""\n                                                       data-required="" data-minlength="3" data-maxnlength="20"\n                                                       data-message="L\xfctfen \u015fifrenizi giriniz"\n                                                       formControlName="password">\n                                                <b class="tooltip tooltip-top-right"><i\n                                                        class="fa fa-lock txt-color-teal"></i>\n                                                    \u015eifrenizi giriniz</b> </label>\n                                            <div class="note">\n                                                <a routerLink="/auth/forgot-password">\u015eifremi unuttum?</a>\n                                            </div>\n                                        </section>\n                                    </fieldset>\n                                    <footer>\n                                        <button type="submit" class="btn btn-primary">\n                                            Giri\u015f\n                                        </button>\n                                    </footer>\n                                </form>\n                            </dn-loading>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>'}]}],n.ctorParameters=function(){return[{type:k.b},{type:l.a},{type:r.FormBuilder},{type:C.a},{type:g},{type:b.a},{type:i.Compiler}]},n}(),B=function(){function n(){}return n.forRoot=function(o){return{ngModule:n,providers:[{provide:"loginConfig",useValue:o}]}},n.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,r.ReactiveFormsModule,v],declarations:[w],exports:[w],providers:[y.a,g,b.a,C.a,l.a,i.Compiler]}]}],n.ctorParameters=function(){return[]},n}(),T=e("5ERs"),I=e("MpZt"),_=e("XueB"),R=this&&this.__decorate||function(n,o,e,t){var i,r=arguments.length,a=r<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a},x=this&&this.__metadata||function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)},L=function(){function n(n,o,e){var t=this;this.loginService=n,this._http=o,this._storage=e,this.loginService.loginConfig.afterLoginSuccessEvent=function(n){t.setLocalStorage(n),["ulke","doviz","islemniteligi","limankod","gumrukidaresi","bankakod","tasimaaraci","teslimsekli","rejimkod","olcubirim","muafiyetkod","yesno","odemesekli","kdv","gtip","antrepokod","tasimasekli","basitlestirilmisusulkod","alicisaticiiliskisi","esyaozellik","esyacinsi","kullanilmisesya","esyaningiriscikisamaci","uluslararasianlasma","istenendokuman"].forEach(function(n){o.addCachableUrl(n),o.refreshCache(n)})}}return n.prototype.setLocalStorage=function(n){var o=this;this._http.get("Gtbuser/"+n.id+"/User").subscribe(function(n){n.isSuccess&&o._storage.setItem(_.a.gtbUserKey,n.data)}),this._http.get("FaturaKullanici/Current").subscribe(function(n){n.isSuccess&&o._storage.setItem(_.a.gtbFaturaUserKey,n.data)})},n}();L=R([Object(i.Component)({template:"<dn-login></dn-login>"}),x("design:paramtypes",["function"==typeof(O=void 0!==g&&g)&&O||Object,"function"==typeof(P=void 0!==a.DnHttpService&&a.DnHttpService)&&P||Object,"function"==typeof(N=void 0!==a.DnStorageService&&a.DnStorageService)&&N||Object])],L);var O,P,N,M=this&&this.__decorate||function(n,o,e,t){var i,r=arguments.length,a=r<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a},j=[{path:"",component:L}],E=function(){function n(){}return n}();E=M([Object(i.NgModule)({imports:[k.c.forChild(j)],exports:[k.c],providers:[]})],E),e.d(o,"LoginModule",function(){return D});var A=this&&this.__decorate||function(n,o,e,t){var i,r=arguments.length,a=r<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a},D=function(){function n(){}return n}();D=A([Object(i.NgModule)({imports:[t.CommonModule,E,r.ReactiveFormsModule,I.a.forRoot(),a.DnLoadingModule,T.a.isGumruk?B.forRoot({title:"GTB E-Beyan Uygulamas\u0131",description:"G\xfcmr\xfck ve Ticaret Bakanl\u0131\u011f\u0131 E-Beyan Uygulamas\u0131",afterLoginNavigateRoute:"/home",logo:"assets/img/gumruk_logo_256.png"}):B.forRoot({title:"E-Beyan Uygulamas\u0131",description:"Test E-Beyan Uygulamas\u0131",afterLoginNavigateRoute:"/home",logo:"http://www.deonbotha.com/wp-content/uploads/2016/02/transparent.png"})],declarations:[L],providers:[g,l.a]})],D)}});